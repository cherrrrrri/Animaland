<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Agora Java API Reference for Android: io.agora.base.VideoFrame Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Agora Java API Reference for Android
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>io</b></li><li class="navelem"><b>agora</b></li><li class="navelem"><b>base</b></li><li class="navelem"><a class="el" href="classio_1_1agora_1_1base_1_1_video_frame.html">VideoFrame</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classio_1_1agora_1_1base_1_1_video_frame-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">io.agora.base.VideoFrame Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for io.agora.base.VideoFrame:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classio_1_1agora_1_1base_1_1_video_frame.png" alt=""/>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">interface &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceio_1_1agora_1_1base_1_1_video_frame_1_1_buffer.html">Buffer</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">interface &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceio_1_1agora_1_1base_1_1_video_frame_1_1_color_space.html">ColorSpace</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">interface &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceio_1_1agora_1_1base_1_1_video_frame_1_1_i420_buffer.html">I420Buffer</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">interface &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceio_1_1agora_1_1base_1_1_video_frame_1_1_i422_buffer.html">I422Buffer</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">interface &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceio_1_1agora_1_1base_1_1_video_frame_1_1_rgba_buffer.html">RgbaBuffer</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="enumio_1_1agora_1_1base_1_1_video_frame_1_1_source_type.html">SourceType</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">interface &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceio_1_1agora_1_1base_1_1_video_frame_1_1_texture_buffer.html">TextureBuffer</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a7ad03e260f21c84cbca07ab75df3257e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classio_1_1agora_1_1base_1_1_video_frame.html#a7ad03e260f21c84cbca07ab75df3257e">VideoFrame</a> (<a class="el" href="interfaceio_1_1agora_1_1base_1_1_video_frame_1_1_buffer.html">Buffer</a> buffer, int rotation, long timestampNs)</td></tr>
<tr class="separator:a7ad03e260f21c84cbca07ab75df3257e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52366c314f520e6f791fa81951766085"><td class="memItemLeft" align="right" valign="top"><a id="a52366c314f520e6f791fa81951766085"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>VideoFrame</b> (<a class="el" href="interfaceio_1_1agora_1_1base_1_1_video_frame_1_1_buffer.html">Buffer</a> buffer, int rotation, long timestampNs, <a class="el" href="interfaceio_1_1agora_1_1base_1_1_video_frame_1_1_color_space.html">ColorSpace</a> colorSpace, byte[] alphaBuffer, float sampleAspectRatio, int sourceType)</td></tr>
<tr class="separator:a52366c314f520e6f791fa81951766085"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd7f12a27434f9883e167f8deb03c50b"><td class="memItemLeft" align="right" valign="top"><a id="abd7f12a27434f9883e167f8deb03c50b"></a>
<a class="el" href="enumio_1_1agora_1_1base_1_1_video_frame_1_1_source_type.html">SourceType</a>&#160;</td><td class="memItemRight" valign="bottom"><b>getSourceType</b> ()</td></tr>
<tr class="separator:abd7f12a27434f9883e167f8deb03c50b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09104763f41f95d57b8149f24334e762"><td class="memItemLeft" align="right" valign="top"><a id="a09104763f41f95d57b8149f24334e762"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>getSampleAspectRatio</b> ()</td></tr>
<tr class="separator:a09104763f41f95d57b8149f24334e762"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac05dd9efc8822883cae5006584a277b5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="interfaceio_1_1agora_1_1base_1_1_video_frame_1_1_buffer.html">Buffer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classio_1_1agora_1_1base_1_1_video_frame.html#ac05dd9efc8822883cae5006584a277b5">getBuffer</a> ()</td></tr>
<tr class="separator:ac05dd9efc8822883cae5006584a277b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f94015893a1cadcee523aed78ac6e22"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classio_1_1agora_1_1base_1_1_video_frame.html#a3f94015893a1cadcee523aed78ac6e22">getRotation</a> ()</td></tr>
<tr class="separator:a3f94015893a1cadcee523aed78ac6e22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53c2c1728f35948e24a1750c73b26fc8"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classio_1_1agora_1_1base_1_1_video_frame.html#a53c2c1728f35948e24a1750c73b26fc8">getTimestampNs</a> ()</td></tr>
<tr class="separator:a53c2c1728f35948e24a1750c73b26fc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f9f60c57e84642c22e2cdf0c9a6d940"><td class="memItemLeft" align="right" valign="top"><a id="a9f9f60c57e84642c22e2cdf0c9a6d940"></a>
<a class="el" href="classio_1_1agora_1_1base_1_1_video_frame_meta_info.html">VideoFrameMetaInfo</a>&#160;</td><td class="memItemRight" valign="bottom"><b>getMetaInfo</b> ()</td></tr>
<tr class="separator:a9f9f60c57e84642c22e2cdf0c9a6d940"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acceddd0284717d8c14676b4b98e5aaeb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classio_1_1agora_1_1base_1_1_video_frame.html#acceddd0284717d8c14676b4b98e5aaeb">getRotatedWidth</a> ()</td></tr>
<tr class="separator:acceddd0284717d8c14676b4b98e5aaeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f1616172af774654f0740ec5a0c7afa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classio_1_1agora_1_1base_1_1_video_frame.html#a7f1616172af774654f0740ec5a0c7afa">getRotatedHeight</a> ()</td></tr>
<tr class="separator:a7f1616172af774654f0740ec5a0c7afa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46eca37a2fcfa7d6e140ab40c88f1bf5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classio_1_1agora_1_1base_1_1_video_frame.html#a46eca37a2fcfa7d6e140ab40c88f1bf5">replaceBuffer</a> (<a class="el" href="interfaceio_1_1agora_1_1base_1_1_video_frame_1_1_buffer.html">Buffer</a> buffer, int rotation, long timestampNs)</td></tr>
<tr class="separator:a46eca37a2fcfa7d6e140ab40c88f1bf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2732ade7a20e74c2c9f1e88a4b19a0c6"><td class="memItemLeft" align="right" valign="top"><a id="a2732ade7a20e74c2c9f1e88a4b19a0c6"></a>
<a class="el" href="interfaceio_1_1agora_1_1base_1_1_video_frame_1_1_color_space.html">ColorSpace</a>&#160;</td><td class="memItemRight" valign="bottom"><b>getColorSpace</b> ()</td></tr>
<tr class="separator:a2732ade7a20e74c2c9f1e88a4b19a0c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7de74a9fd0604217aa3ce0d8b1dfe94"><td class="memItemLeft" align="right" valign="top"><a id="af7de74a9fd0604217aa3ce0d8b1dfe94"></a>
byte[]&#160;</td><td class="memItemRight" valign="bottom"><b>getAlphaBuffer</b> ()</td></tr>
<tr class="separator:af7de74a9fd0604217aa3ce0d8b1dfe94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51f9ab6379ab6fe6855f5fe3924f7871"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classio_1_1agora_1_1base_1_1_video_frame.html#a51f9ab6379ab6fe6855f5fe3924f7871">retain</a> ()</td></tr>
<tr class="separator:a51f9ab6379ab6fe6855f5fe3924f7871"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc135467070ffce6bc4fb74a170c9cba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classio_1_1agora_1_1base_1_1_video_frame.html#acc135467070ffce6bc4fb74a170c9cba">release</a> ()</td></tr>
<tr class="separator:acc135467070ffce6bc4fb74a170c9cba"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Java version of webrtc::VideoFrame and webrtc::VideoFrameBuffer. A difference from the C++ version is that no explicit tag is used, and clients are expected to use 'instanceof' to find the right subclass of the buffer. This allows clients to create custom <a class="el" href="interfaceio_1_1agora_1_1base_1_1_video_frame_1_1_buffer.html">VideoFrame.Buffer</a> in arbitrary format in their custom VideoSources, and then cast it back to the correct subclass in their custom VideoSinks. All implementations must also implement the toI420() function, converting from the underlying representation if necessary. I420 is the most widely accepted format and serves as a fallback for video sinks that can only handle I420, e.g. the internal WebRTC software encoders. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a7ad03e260f21c84cbca07ab75df3257e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ad03e260f21c84cbca07ab75df3257e">&#9670;&nbsp;</a></span>VideoFrame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">io.agora.base.VideoFrame.VideoFrame </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interfaceio_1_1agora_1_1base_1_1_video_frame_1_1_buffer.html">Buffer</a>&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rotation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>timestampNs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Constructs a new <a class="el" href="classio_1_1agora_1_1base_1_1_video_frame.html">VideoFrame</a> backed by the given</p><div class="fragment"><div class="line">buffer </div>
</div><!-- fragment --><p> . </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>not allowed to be null, otherwise exception will throw </td></tr>
    <tr><td class="paramname">rotation</td><td>must be a multiple of 90, otherwise exception will throw </td></tr>
    <tr><td class="paramname">timestampNs</td><td>in nanosecond, otherwise video frame may not been sent</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Ownership of the buffer object is tranferred to the new <a class="el" href="classio_1_1agora_1_1base_1_1_video_frame.html">VideoFrame</a>. </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ac05dd9efc8822883cae5006584a277b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac05dd9efc8822883cae5006584a277b5">&#9670;&nbsp;</a></span>getBuffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="interfaceio_1_1agora_1_1base_1_1_video_frame_1_1_buffer.html">Buffer</a> io.agora.base.VideoFrame.getBuffer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>the inner buffer <a class="el" href="interfaceio_1_1agora_1_1base_1_1_video_frame_1_1_buffer.html">Buffer</a>. </dd></dl>

</div>
</div>
<a id="a3f94015893a1cadcee523aed78ac6e22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f94015893a1cadcee523aed78ac6e22">&#9670;&nbsp;</a></span>getRotation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int io.agora.base.VideoFrame.getRotation </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Rotation of the frame in degrees. </p>

</div>
</div>
<a id="a53c2c1728f35948e24a1750c73b26fc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53c2c1728f35948e24a1750c73b26fc8">&#9670;&nbsp;</a></span>getTimestampNs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long io.agora.base.VideoFrame.getTimestampNs </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Timestamp of the frame in nano seconds. </p>

</div>
</div>
<a id="acceddd0284717d8c14676b4b98e5aaeb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acceddd0284717d8c14676b4b98e5aaeb">&#9670;&nbsp;</a></span>getRotatedWidth()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int io.agora.base.VideoFrame.getRotatedWidth </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>rotated width. </dd></dl>

</div>
</div>
<a id="a7f1616172af774654f0740ec5a0c7afa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f1616172af774654f0740ec5a0c7afa">&#9670;&nbsp;</a></span>getRotatedHeight()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int io.agora.base.VideoFrame.getRotatedHeight </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>rotated height. </dd></dl>

</div>
</div>
<a id="a46eca37a2fcfa7d6e140ab40c88f1bf5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46eca37a2fcfa7d6e140ab40c88f1bf5">&#9670;&nbsp;</a></span>replaceBuffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void io.agora.base.VideoFrame.replaceBuffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interfaceio_1_1agora_1_1base_1_1_video_frame_1_1_buffer.html">Buffer</a>&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rotation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>timestampNs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>replace <a class="el" href="classio_1_1agora_1_1base_1_1_video_frame.html">VideoFrame</a> content.</p>
<dl class="section note"><dt>Note</dt><dd>Ownership of the buffer object is tranferred to the <a class="el" href="classio_1_1agora_1_1base_1_1_video_frame.html">VideoFrame</a>. </dd></dl>

</div>
</div>
<a id="a51f9ab6379ab6fe6855f5fe3924f7871"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51f9ab6379ab6fe6855f5fe3924f7871">&#9670;&nbsp;</a></span>retain()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void io.agora.base.VideoFrame.retain </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Increases inner buffer's ref count by one. </p>

</div>
</div>
<a id="acc135467070ffce6bc4fb74a170c9cba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc135467070ffce6bc4fb74a170c9cba">&#9670;&nbsp;</a></span>release()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void io.agora.base.VideoFrame.release </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Decreases inner buffer's ref count by one. When the ref count reaches zero, resources related to the inner buffer will be freed. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.18
</small></address>
</body>
</html>
